# CASE STUDY: MINECRAFT SERVER QUICKSTART

---

## Purpose 
1. introduce how to set up the java environment on Linux server
2. introduce how to set up a FTP server on Linux server
3. introduce security issues in above process

---

### FTP SERVER SETUP
Creating a FTP server will help transfrom files between different platforms and different users.  
Users can share files with each other and send file to the server easier through the FTP service.

1. using package manager yum install the vsftpd 
	``
	yum install vsftpd
	``
2. start the vsftpd process
	``
	systemctl start vsftpd
	``
3. __SECURITY HIGHLIGHTS__ modify the vsftpd.conf file to configure the FTP service
	``
	vi /etc/vsftpd/vsftpd.conf
	``
	set the ``anonymous_enable`` property to ``NO``. Make sure user have to login to get access with the files 
	you can also modify the mask value for every user in this conf file.
	after saving the modification, restart the vsftpd using ``systemctl restart vsftpd``  
	The FTP service will run on 21 Port. You can define another port to secure it.
4. use software connect to the server.

### JAVA ENV SETUP

1. download the JDK Package from Oracle. 
	MC currently start to use new Java16 insteaad of Java8. Be careful with the version you download.
	In this case, we choose the Java16 Linux x86 version. Download the jdk-16.0.2_linux-x64_bin.tar.gz from
	https://www.oracle.com/java/technologies/javase-jdk16-downloads.html
	__note__: You can also use package manager like apt-get (on ubuntu) or yum (on centos) to install the java environment.
	but it is not recommended to do so since it may give you the wrong version of the JDK.
2. upload the file and unzip it.
	upload the .tar.gz file, and use the command ``mv``to move the file to a proper location. Then use
	``tar -xzvf [FILENAME]`` unzip the file.
3. set up environment variable.
	``vi /etc/profile``, press ``i`` enter INSERT mode.
	add the following statements.
	``
	export JAVA_HOME=[DIR PATH]
	export CLASSPATH=.:$JAVA_HOME/lib
	export PATH=$PATH:$JAVA_HOME/bin
	``
	where ``[DIR PATH]``is the absolute path of the directory unzipped from the .tar.gz file.
4. run ``java --version`` to check if the environment is installed properly.

### MINECRAFT SERVER SETUP

1. download the start-up jar file from the website, and upload it to the server
	Spigot and CraftBukkit: https://www.getbukkit.org/
2. use ``java -jar [FILENAME].jar``run the file
3. for first time, it will halt automatically, you have to agree with the EULA to start up the Minecraft server.
	``vi eula.txt`` and change the false to true
4. start again.
	``java -jar [FILENAME].jar``
5. __SECURITY HIGHLIGHTS__ 
	the default port of the service runs on 25565, you can modify the server.properties file to change the port.
	the online verification requires the player login to the server. Make sure the option is true to avoid attacking.